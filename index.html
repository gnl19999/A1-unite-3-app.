<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinamik Kelime Kartı | Yeni Liste 2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Ana Stil */
        body {
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            margin: 0;
            justify-content: center;
        }

        /* Kartın Kendisi */
        .card {
            background-color: white;
            width: 350px;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            position: relative;
            margin-top: 20px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        /* Tıklama efekti */
        .card:active {
            transform: scale(0.98);
        }

        /* Kart İçeriği Stilleri */
        .header { margin-bottom: 15px; }
        .word-row { display: flex; align-items: center; gap: 15px; }
        .speaker-icon { 
            color: #1976D2;
            font-size: 28px; 
            cursor: pointer; 
            transition: transform 0.2s; 
        }
        .speaker-icon:hover { transform: scale(1.1); }
        h1 { color: #2D3748; margin: 0; font-size: 36px; font-weight: 800; text-transform: capitalize; }
        .meaning { color: #718096; margin-top: 5px; margin-left: 43px; font-size: 18px; font-weight: 500;}
        .image-container { text-align: center; margin: 25px 0; position: relative; }
        
        /* Görsel boyutlandırma */
        .main-img { max-width: 100%; height: 200px; object-fit: cover; border-radius: 10px; display: block; margin: 0 auto; } 
        .flash-icon { position: absolute; bottom: 5px; right: 5px; color: #f6e05e; font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
        
        .box { 
            border: 1px solid #E2E8F0; 
            border-radius: 15px; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: #F7FAFC;
        }
        .row { display: flex; gap: 10px; }
        .tag { font-weight: bold; color: #1976D2; font-size: 14px; min-width: 30px; }
        .content { flex: 1; }
        .en-sentence { color: #2D3748; font-size: 16px; margin: 0 0 8px 0; line-height: 1.5; }
        .highlight { color: #E53E3E; font-weight: bold; }
        .divider { border-top: 1px dotted #CBD5E0; margin: 5px 0; }
        .tr-sentence { color: #718096; font-size: 15px; margin: 5px 0 0 0; }
        .synonyms-text { color: #2D3748; margin: 0; font-size: 15px; }
        .box.small { padding: 12px 15px; border-radius: 30px; margin-bottom: 0;}

        /* Navigator Bilgisi */
        .info-bar {
            color: #718096;
            margin-top: 10px;
            font-size: 14px;
            font-weight: 500;
        }

    </style>
</head>
<body>

    <div id="card-container">
        </div>
    
    <div id="info-bar" class="info-bar">Yükleniyor...</div>

    <script>
        // Yeni Kelime Listesi (Görseller dinamik olarak kelimeye uygun çekilmektedir.)
        const wordList = [
            { word: "article", meaning: "makale, eşya", example_en: "I read an [article] about science.", example_tr: "Bilim hakkında bir makale okudum.", synonyms: "piece, item", image: "https://loremflickr.com/350/180/article" },
            { word: "artist", meaning: "sanatçı", example_en: "She is a famous modern [artist].", example_tr: "O, ünlü bir modern sanatçıdır.", synonyms: "painter, creator", image: "https://loremflickr.com/350/180/artist" },
            { word: "as", meaning: "olarak, gibi", example_en: "He works [as] a teacher.", example_tr: "O, bir öğretmen olarak çalışıyor.", synonyms: "like, since", image: "https://loremflickr.com/350/180/teacher" },
            { word: "ask", meaning: "sormak, istemek", example_en: "Can I [ask] you a question?", example_tr: "Sana bir soru sorabilir miyim?", synonyms: "inquire, request", image: "https://loremflickr.com/350/180/ask" },
            { word: "at", meaning: "-de, -da (yerde)", example_en: "I am [at] the bus stop.", example_tr: "Otobüs durağındayım.", synonyms: "near, in", image: "https://loremflickr.com/350/180/bus,stop" },
            { word: "August", meaning: "Ağustos", example_en: "Summer ends in [August].", example_tr: "Yaz, Ağustosta biter.", synonyms: "summer month", image: "https://loremflickr.com/350/180/August" },
            { word: "aunt", meaning: "teyze, hala", example_en: "My [aunt] lives in Ankara.", example_tr: "Teyzem Ankara'da yaşıyor.", synonyms: "relative", image: "https://loremflickr.com/350/180/aunt" },
            { word: "autumn", meaning: "sonbahar", example_en: "Leaves change color in [autumn].", example_tr: "Sonbaharda yapraklar renk değiştirir.", synonyms: "fall", image: "https://loremflickr.com/350/180/autumn" },
            { word: "away", meaning: "uzakta, uzağa", example_en: "Go [away] from the window.", example_tr: "Pencereden uzaklaş.", synonyms: "far, off", image: "https://loremflickr.com/350/180/away" },
            { word: "Terms", meaning: "Şartlar, Koşullar", example_en: "Read the [Terms] and Conditions.", example_tr: "Şartları ve Koşulları okuyun.", synonyms: "conditions, rules", image: "https://loremflickr.com/350/180/terms,conditions" },
            { word: "baby", meaning: "bebek", example_en: "The [baby] is sleeping now.", example_tr: "Bebek şimdi uyuyor.", synonyms: "infant, child", image: "https://loremflickr.com/350/180/baby" },
            { word: "back", meaning: "geri, sırt", example_en: "Come [back] home soon.", example_tr: "Yakında eve geri gel.", synonyms: "behind, rear", image: "https://loremflickr.com/350/180/back" },
            { word: "bad", meaning: "kötü", example_en: "I had a [bad] dream last night.", example_tr: "Dün gece kötü bir rüya gördüm.", synonyms: "poor, evil", image: "https://loremflickr.com/350/180/bad,dream" },
            { word: "bag", meaning: "çanta", example_en: "Put the books in the [bag].", example_tr: "Kitapları çantanın içine koy.", synonyms: "sack, holder", image: "https://loremflickr.com/350/180/bag" },
            { word: "ball", meaning: "top", example_en: "Let's play with the [ball].", example_tr: "Topla oynayalım.", synonyms: "sphere", image: "https://loremflickr.com/350/180/ball,toy" },
            { word: "banana", meaning: "muz", example_en: "I like eating a [banana].", example_tr: "Muz yemeyi severim.", synonyms: "fruit", image: "https://loremflickr.com/350/180/banana" },
            { word: "band", meaning: "müzik grubu, bant", example_en: "The rock [band] is famous.", example_tr: "Rock grubu ünlüdür.", synonyms: "group, strip", image: "https://loremflickr.com/350/180/band,music" },
            { word: "bank", meaning: "banka, nehir kenarı", example_en: "I need to go to the [bank].", example_tr: "Bankaya gitmem gerekiyor.", synonyms: "financial institution", image: "https://loremflickr.com/350/180/bank" },
            { word: "bath", meaning: "banyo, yıkanmak", example_en: "I need to take a [bath].", example_tr: "Banyo yapmam gerekiyor.", synonyms: "wash, soak", image: "https://loremflickr.com/350/180/bath" },
            { word: "bathroom", meaning: "banyo odası, tuvalet", example_en: "Where is the [bathroom]?", example_tr: "Banyo nerede?", synonyms: "washroom, restroom", image: "https://loremflickr.com/350/180/bathroom" }
        ];

        let currentIndex = 0;
        const container = document.getElementById('card-container');
        const infoBar = document.getElementById('info-bar');

        // Sesli Okuma Fonksiyonu
        function speakWord(text) {
            if ('speechSynthesis' in window) {
                const msg = new SpeechSynthesisUtterance();
                msg.text = text;
                msg.lang = 'en-US'; 
                window.speechSynthesis.speak(msg);
            }
        }

        // Ana Kart Oluşturma Fonksiyonu
        function createCard(data) {
            const { word, meaning, image, example_en, example_tr, synonyms } = data;
            
            // Köşeli parantez kontrolü ve vurgulama
            let highlightedExample = example_en;
            if (example_en.includes('[')) {
                highlightedExample = example_en
                    .replace(`[${word}]`, `<span class="highlight">${word}</span>`)
                    .replace(`[${word.charAt(0).toUpperCase() + word.slice(1)}]`, `<span class="highlight">${word.charAt(0).toUpperCase() + word.slice(1)}</span>`); // Baş harf büyükse
            } else {
                // Parantez yoksa kelimeyi bulup vurgula (büyük/küçük harf duyarsız)
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                highlightedExample = example_en.replace(regex, (match) => `<span class="highlight">${match}</span>`);
            }
            
            // Eş anlamlı yoksa tire koy
            const synonymsText = synonyms || '-';

            const cardHTML = `
                <div class="card" onclick="nextCard()">
                    <div class="header">
                        <div class="word-row">
                            <i class="fas fa-volume-up speaker-icon" onclick="event.stopPropagation(); speakWord('${word}')"></i>
                            <h1>${word}</h1>
                        </div>
                        <p class="meaning">${meaning}</p>
                    </div>

                    <div class="image-container">
                        <img src="${image}" alt="${word} Görseli" class="main-img" onerror="this.onerror=null;this.src='https://via.placeholder.com/350x200/CCCCCC/666666?text=Resim+Yok'">
                        <i class="fas fa-bolt flash-icon"></i>
                    </div>

                    <div class="box">
                        <div class="row">
                            <span class="tag">Ör.</span>
                            <div class="content">
                                <p class="en-sentence">${highlightedExample}</p>
                                <div class="divider"></div>
                                <p class="tr-sentence">${example_tr}</p>
                            </div>
                        </div>
                    </div>

                    <div class="box small">
                        <div class="row">
                            <span class="tag">Eş An.</span>
                            <div class="content">
                                <p class="synonyms-text">${synonymsText}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            container.innerHTML = cardHTML;
            updateInfoBar();
        }
        
        // Bilgi Çubuğunu Güncelleme
        function updateInfoBar() {
            infoBar.textContent = `Kart ${currentIndex + 1} / ${wordList.length}`;
        }

        // Sonraki Karta Geçme Fonksiyonu
        function nextCard() {
            currentIndex = (currentIndex + 1) % wordList.length;
            createCard(wordList[currentIndex]);
        }

        // Sayfa yüklendiğinde ilk kartı göster
        window.onload = function() {
            if (wordList.length > 0) {
                createCard(wordList[currentIndex]);
            } else {
                container.innerHTML = '<h2>Kelime listesi boş.</h2>';
            }
        };
    </script>
</body>
</html>
